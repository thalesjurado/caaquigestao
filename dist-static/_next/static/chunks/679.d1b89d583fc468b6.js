"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{7679:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(5155),l=s(2115),r=s(2204);function n(e){return e.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})}function d(){let{projects:e,boardActivities:t,projectAllocations:s}=(0,r.C)(),[d,i]=(0,l.useState)("quarter"),[c,o]=(0,l.useState)("all"),x=(0,l.useMemo)(()=>{let a=new Date;return e.filter(e=>"all"===c||e.status===c).map(e=>{let l=t.filter(t=>t.projectId===e.id),r=l.filter(e=>"done"===e.status).length,n=l.length>0?r/l.length*100:0,d=s.filter(t=>t.projectId===e.id).length,i=e.endDate<a&&"completed"!==e.status;return{id:e.id,name:e.name,client:e.client,type:e.type,status:e.status,startDate:e.startDate,endDate:e.endDate,progress:Math.round(n),teamSize:d,isOverdue:i}}).sort((e,t)=>e.startDate.getTime()-t.startDate.getTime())},[e,t,s,c]),m=(0,l.useMemo)(()=>{if(0===x.length){let e=new Date;return{start:new Date(e.getFullYear(),e.getMonth()-3,1),end:new Date(e.getFullYear(),e.getMonth()+9,0)}}let e=x.flatMap(e=>[e.startDate,e.endDate]),t=new Date(Math.min(...e.map(e=>e.getTime()))),s=new Date(Math.max(...e.map(e=>e.getTime()))),a="month"===d?30:"quarter"===d?90:365;return{start:new Date(t.getTime()-24*a*36e5),end:new Date(s.getTime()+24*a*36e5)}},[x,d]),h=(0,l.useMemo)(()=>{let e=[],t=new Date(m.start);for(;t<=m.end;)e.push(new Date(t)),"month"===d?t.setMonth(t.getMonth()+1):"quarter"===d?t.setMonth(t.getMonth()+3):t.setFullYear(t.getFullYear()+1);return e},[m,d]),u=e=>{let t=m.end.getTime()-m.start.getTime();return(e.getTime()-m.start.getTime())/t*100},g=(e,t)=>{let s=u(e);return u(t)-s};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Timeline de Projetos"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Visualiza\xe7\xe3o temporal dos projetos e seus cronogramas"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"border rounded-lg px-3 py-2",children:[(0,a.jsx)("option",{value:"all",children:"Todos os Status"}),(0,a.jsx)("option",{value:"planning",children:"Planejamento"}),(0,a.jsx)("option",{value:"active",children:"Ativo"}),(0,a.jsx)("option",{value:"on_hold",children:"Em Pausa"}),(0,a.jsx)("option",{value:"completed",children:"Conclu\xeddo"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelado"})]}),(0,a.jsxs)("select",{value:d,onChange:e=>i(e.target.value),className:"border rounded-lg px-3 py-2",children:[(0,a.jsx)("option",{value:"month",children:"Vis\xe3o Mensal"}),(0,a.jsx)("option",{value:"quarter",children:"Vis\xe3o Trimestral"}),(0,a.jsx)("option",{value:"year",children:"Vis\xe3o Anual"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:x.filter(e=>"active"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-blue-600",children:"Projetos Ativos"})]}),(0,a.jsxs)("div",{className:"bg-red-50 rounded-xl p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:x.filter(e=>e.isOverdue).length}),(0,a.jsx)("div",{className:"text-sm text-red-600",children:"Projetos Atrasados"})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-xl p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:x.filter(e=>"completed"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-green-600",children:"Projetos Conclu\xeddos"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(x.reduce((e,t)=>e+t.progress,0)/Math.max(x.length,1)),"%"]}),(0,a.jsx)("div",{className:"text-sm text-purple-600",children:"Progresso M\xe9dio"})]})]}),(0,a.jsxs)("div",{className:"bg-white border rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:h.map((e,t)=>(0,a.jsx)("div",{className:"text-center",children:"year"===d?e.getFullYear():e.toLocaleDateString("pt-BR",{month:"short",year:"month"===d?"2-digit":"numeric"})},t))}),(0,a.jsxs)("div",{className:"relative h-2 bg-gray-100 rounded",children:[(0,a.jsx)("div",{className:"absolute top-0 w-0.5 h-full bg-red-500 z-10",style:{left:"".concat(u(new Date),"%")}}),(0,a.jsx)("div",{className:"absolute -top-1 text-xs text-red-600 font-medium",style:{left:"".concat(u(new Date),"%"),transform:"translateX(-50%)"},children:"Hoje"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[x.map(e=>(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsxs)("div",{className:"w-48 flex-shrink-0",children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:e.client}),(0,a.jsxs)("div",{className:"flex gap-1 mt-1",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs ".concat("tech"===e.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"tech"===e.type?"Tech":"Growth"}),e.teamSize>0&&(0,a.jsxs)("span",{className:"px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:[e.teamSize," pessoas"]})]})]}),(0,a.jsxs)("div",{className:"flex-1 relative h-8",children:[(0,a.jsx)("div",{className:"absolute h-6 rounded-lg ".concat(function(e){switch(e){case"planning":default:return"bg-gray-500";case"active":return"bg-blue-500";case"on_hold":return"bg-yellow-500";case"completed":return"bg-green-500";case"cancelled":return"bg-red-500"}}(e.status)," ").concat(e.isOverdue?"ring-2 ring-red-500":""),style:{left:"".concat(u(e.startDate),"%"),width:"".concat(g(e.startDate,e.endDate),"%"),minWidth:"2px"}}),e.progress>0&&(0,a.jsx)("div",{className:"absolute h-6 rounded-lg bg-white bg-opacity-30",style:{left:"".concat(u(e.startDate),"%"),width:"".concat(g(e.startDate,e.endDate)*(e.progress/100),"%"),minWidth:"1px"}}),(0,a.jsx)("div",{className:"absolute -bottom-5 text-xs text-gray-600",style:{left:"".concat(u(e.startDate),"%")},children:n(e.startDate)}),(0,a.jsx)("div",{className:"absolute -bottom-5 text-xs text-gray-600",style:{left:"".concat(u(e.endDate),"%"),transform:"translateX(-100%)"},children:n(e.endDate)})]}),(0,a.jsxs)("div",{className:"w-16 text-right text-sm",children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.progress,"%"]}),e.isOverdue&&(0,a.jsx)("div",{className:"text-xs text-red-600",children:"Atrasado"})]})]})},e.id)),0===x.length&&(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:(0,a.jsx)("p",{children:"Nenhum projeto encontrado para os filtros selecionados."})})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,a.jsx)("h3",{className:"font-medium mb-3",children:"Legenda:"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-gray-500 rounded"}),(0,a.jsx)("span",{children:"Planejamento"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded"}),(0,a.jsx)("span",{children:"Ativo"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),(0,a.jsx)("span",{children:"Em Pausa"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded"}),(0,a.jsx)("span",{children:"Conclu\xeddo"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded"}),(0,a.jsx)("span",{children:"Cancelado"})]})]}),(0,a.jsx)("div",{className:"mt-3 text-xs text-gray-600",children:'• A linha vermelha indica "hoje" • Projetos com borda vermelha est\xe3o atrasados • A \xe1rea clara mostra o progresso'})]})]})}}}]);