(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{255:(e,t,a)=>{"use strict";function l(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return l}}),a(5155),a(7650),a(5744),a(589)},2146:(e,t,a)=>{"use strict";function l(e){let{reason:t,children:a}=e;return a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return l}}),a(5262)},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return r},createSnapshot:function(){return o}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class l{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function r(){return n?new n:new l}function s(e){return n?n.bind(e):l.bind(e)}function o(){return n?n.snapshot():function(e,...t){return e(...t)}}},4912:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(5155),n=a(2115),r=a(6645),s=a.n(r),o=a(2204),i=a(5434);function d(e){let{children:t}=e,a=(0,o.C)(e=>e.loadAllData),r=(0,o.C)(e=>e.isLoading),s=(0,o.C)(e=>e.error),d=(0,o.C)(e=>e.setLoading),[c,u]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{(async()=>{try{let a=localStorage.getItem("caaqui-projectops-data");if(a){var e,t,l,n;let r=JSON.parse(a),s=null!=(e=null==r?void 0:r.boardActivities)?e:[],o=null!=(t=null==r?void 0:r.collaborators)?t:[],d=null!=(l=null==r?void 0:r.okrs)?l:[],c=null!=(n=null==r?void 0:r.rituals)?n:[];s.length>0&&(0,i.gC)(i.d5.BOARD_ACTIVITIES,s),o.length>0&&(0,i.gC)(i.d5.COLLABORATORS,o),d.length>0&&(0,i.gC)(i.d5.OKRS,d),c.length>0&&(0,i.gC)(i.d5.RITUALS,c),localStorage.removeItem("caaqui-projectops-data"),console.log("✅ Migra\xe7\xe3o de storage legado conclu\xedda")}}catch(e){console.warn("Falha na migra\xe7\xe3o do storage legado:",e)}let r=setTimeout(()=>{console.warn("⏳ Timeout ao carregar dados remotos. Ativando fallback local."),u(!0),d(!1)},8e3);try{await a(),s&&(s.includes("projects")||s.includes("project_allocations"))&&(console.log("Usando sistema de fallback para projects e project_allocations"),u(!0))}catch(e){console.error("Erro ao carregar dados:",e),u(!0),d(!1)}finally{clearTimeout(r)}})()},[a,s,d]),c)?(0,l.jsx)(l.Fragment,{children:t}):r?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Carregando dados do Supabase..."})]})}):s?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"text-center text-red-600 max-w-md mx-auto p-6",children:[(0,l.jsxs)("p",{className:"mb-4",children:["❌ ",s]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:[(0,l.jsx)("p",{children:"Poss\xedveis causas:"}),(0,l.jsxs)("ul",{className:"text-left mt-2 space-y-1",children:[(0,l.jsx)("li",{children:"• Credenciais do Supabase incorretas"}),(0,l.jsx)("li",{children:"• Tabelas n\xe3o criadas no banco"}),(0,l.jsx)("li",{children:"• Problema de conex\xe3o"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("button",{onClick:a,className:"block w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Tentar novamente"}),(0,l.jsx)("button",{onClick:()=>{window.location.reload()},className:"block w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Recarregar p\xe1gina"})]})]})}):(0,l.jsx)(l.Fragment,{children:t})}let c=s()(()=>Promise.all([a.e(279),a.e(106)]).then(a.bind(a,8106)),{loadableGenerated:{webpack:()=>[8106]},ssr:!1}),u=s()(()=>Promise.all([a.e(545),a.e(625)]).then(a.bind(a,3625)),{loadableGenerated:{webpack:()=>[3625]},ssr:!1}),b=s()(()=>Promise.all([a.e(545),a.e(966)]).then(a.bind(a,1966)),{loadableGenerated:{webpack:()=>[1966]},ssr:!1}),h=s()(()=>a.e(184).then(a.bind(a,1184)),{loadableGenerated:{webpack:()=>[1184]},ssr:!1}),x=s()(()=>a.e(506).then(a.bind(a,5506)),{loadableGenerated:{webpack:()=>[5506]},ssr:!1}),m=s()(()=>a.e(207).then(a.bind(a,4207)),{loadableGenerated:{webpack:()=>[4207]},ssr:!1}),j=s()(()=>a.e(92).then(a.bind(a,3092)),{loadableGenerated:{webpack:()=>[3092]},ssr:!1}),f=s()(()=>a.e(679).then(a.bind(a,7679)),{loadableGenerated:{webpack:()=>[7679]},ssr:!1});function g(){let[e,t]=(0,n.useState)("dashboard");(0,n.useEffect)(()=>{let e=()=>{let e=window.location.hash.slice(1);e&&["dashboard","projects","board","team","availability","timeline","okrs","rituais"].includes(e)&&t(e)};return e(),window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]);let a=a=>{let{id:n,label:r}=a;return(0,l.jsx)("button",{onClick:()=>{t(n),window.location.hash=n},className:"px-3 py-2 rounded-xl border text-sm md:text-base ".concat(e===n?"bg-blue-500 text-white border-blue-500":"bg-transparent text-blue-500 border-blue-200 hover:bg-blue-50"," transition-colors duration-200"),children:r})};return(0,l.jsx)(d,{children:(0,l.jsxs)("main",{className:"max-w-6xl mx-auto p-6 space-y-10",children:[(0,l.jsx)("section",{className:"mb-4",children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 md:space-x-2 md:gap-0",children:[(0,l.jsx)(a,{id:"dashboard",label:"\uD83D\uDCCA Dashboard"}),(0,l.jsx)(a,{id:"projects",label:"\uD83D\uDE80 Projetos"}),(0,l.jsx)(a,{id:"board",label:"\uD83D\uDCCB Board"}),(0,l.jsx)(a,{id:"availability",label:"\uD83D\uDC65 Disponibilidade"}),(0,l.jsx)(a,{id:"timeline",label:"\uD83D\uDCC5 Timeline"}),(0,l.jsx)(a,{id:"okrs",label:"\uD83C\uDFAF OKRs"}),(0,l.jsx)(a,{id:"rituais",label:"⚡ Rituais"}),(0,l.jsx)(a,{id:"team",label:"\uD83D\uDC68‍\uD83D\uDCBC Equipe"})]})}),(0,l.jsxs)("section",{children:["dashboard"===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-3",children:"Dashboard"}),(0,l.jsx)(c,{})]}),"projects"===e&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u,{})}),"board"===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-3",children:"Board"}),(0,l.jsx)(b,{})]}),"okrs"===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-3",children:"OKRs"}),(0,l.jsx)(h,{})]}),"rituais"===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-3",children:"OKRs & Rituais — Rituais"}),(0,l.jsx)(x,{})]}),"availability"===e&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(j,{})}),"timeline"===e&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(f,{})}),"team"===e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-3",children:"Equipe"}),(0,l.jsx)(m,{})]})]})]})})}},5744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return l.workAsyncStorageInstance}});let l=a(7828)},6645:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let l=a(8229)._(a(7357));function n(e,t){var a;let n={};"function"==typeof e&&(n.loader=e);let r={...n,...t};return(0,l.default)({...r,modules:null==(a=r.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let l=a(5155),n=a(2115),r=a(2146);function s(e){return{default:e&&"default"in e?e.default:e}}a(255);let o={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},a=(0,n.lazy)(()=>t.loader().then(s)),i=t.loading;function d(e){let s=i?(0,l.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,d=o?n.Suspense:n.Fragment,c=t.ssr?(0,l.jsxs)(l.Fragment,{children:[null,(0,l.jsx)(a,{...e})]}):(0,l.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(a,{...e})});return(0,l.jsx)(d,{...o?{fallback:s}:{},children:c})}return d.displayName="LoadableComponent",d}},7828:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return l}});let l=(0,a(4054).createAsyncLocalStorage)()},9570:(e,t,a)=>{Promise.resolve().then(a.bind(a,4912))}},e=>{e.O(0,[254,204,441,964,358],()=>e(e.s=9570)),_N_E=e.O()}]);