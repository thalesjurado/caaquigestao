(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{4082:(e,l,s)=>{Promise.resolve().then(s.bind(s,5722))},5722:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>d});var a=s(5155),t=s(2115),r=s(8999),c=s(2204),o=s(5749);function d(){let e=(0,r.useRouter)(),l=(0,c.C)(e=>e.addProject),[s,d]=(0,t.useState)("tech"),[n,i]=(0,t.useState)("app"),[x,m]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[u,j]=(0,t.useState)(""),[b,v]=(0,t.useState)(""),[g,N]=(0,t.useState)(""),[f,w]=(0,t.useState)(""),[k,C]=(0,t.useState)(""),[S,E]=(0,t.useState)("React Native"),[P,y]=(0,t.useState)([]),[R,D]=(0,t.useState)(""),[O,A]=(0,t.useState)("Next.js"),[I,T]=(0,t.useState)(""),[_,M]=(0,t.useState)(""),[W,B]=(0,t.useState)("RD"),[F,V]=(0,t.useState)(""),[z,G]=(0,t.useState)(""),q=(0,t.useMemo)(()=>!!x.trim()&&!!h.trim()&&!!b&&!!g,[x,h,b,g]),K=async()=>{if(!q)return;let a=[];f&&a.push("Escopo: ".concat(f)),k&&a.push("Respons\xe1vel de vendas: ".concat(k));let t=u?Number(u.replace(/[^0-9.,]/g,"").replace(",",".")):void 0,r={name:h.trim(),client:x.trim(),type:s,status:"planning",startDate:new Date(b),endDate:new Date(g),description:a.join(" \n"),budget:t},c={...r};if("tech"===s){let e={};"app"===n?(e.platform=P.join(", "),e.integrations=[],e.cdpIntegration=void 0,e.martechTools=[S],R&&a.push("Prazo estimado (APP): ".concat(R))):(e.platform=O,e.integrations=_?_.split(",").map(e=>e.trim()).filter(Boolean):[],I&&a.push("Escopo WEB: ".concat(I))),c={...r,description:a.join(" \n"),techDetails:e}}else c={...r,growthDetails:{crmPlatform:W,campaignType:z,expectedResults:F}};try{await l(c),o.oR.success("Projeto criado e marcado como Em Planejamento (PO)."),e.push("/projects")}catch(e){console.error(e),o.oR.error("Falha ao criar o projeto.")}},X=e=>{y(l=>{let s=new Set(l);return s.has(e)?s.delete(e):s.add(e),Array.from(s)})};return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[(0,a.jsxs)("header",{className:"space-y-1",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Ficha de Projeto (Vendas)"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Registre os detalhes do deal antes de passar para o PO."})]}),(0,a.jsx)("section",{className:"rounded-2xl border bg-white p-4 space-y-4",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Cliente"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:x,onChange:e=>m(e.target.value),placeholder:"Cliente"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Nome do Projeto"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:h,onChange:e=>p(e.target.value),placeholder:"Nome interno"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Valor do contrato"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:u,onChange:e=>j(e.target.value),placeholder:"Ex: 120000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Respons\xe1vel de vendas"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:k,onChange:e=>C(e.target.value),placeholder:"Nome"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"In\xedcio"}),(0,a.jsx)("input",{type:"date",className:"w-full border rounded-xl p-2",value:b,onChange:e=>v(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Fim"}),(0,a.jsx)("input",{type:"date",className:"w-full border rounded-xl p-2",value:g,onChange:e=>N(e.target.value)})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Escopo resumido"}),(0,a.jsx)("textarea",{className:"w-full border rounded-xl p-2",rows:3,value:f,onChange:e=>w(e.target.value),placeholder:"Descri\xe7\xe3o breve do escopo"})]})]})}),(0,a.jsxs)("section",{className:"rounded-2xl border bg-white p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"\xc1rea"}),(0,a.jsxs)("select",{className:"w-full border rounded-xl p-2",value:s,onChange:e=>d(e.target.value),children:[(0,a.jsx)("option",{value:"tech",children:"Implementa\xe7\xe3o Tech"}),(0,a.jsx)("option",{value:"growth",children:"CRM/Growth"})]})]}),"tech"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Tipo"}),(0,a.jsxs)("select",{className:"w-full border rounded-xl p-2",value:n,onChange:e=>i(e.target.value),children:[(0,a.jsx)("option",{value:"app",children:"Implementa\xe7\xe3o APP"}),(0,a.jsx)("option",{value:"web",children:"Implementa\xe7\xe3o WEB"})]})]}),"growth"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Stack de CRM"}),(0,a.jsxs)("select",{className:"w-full border rounded-xl p-2",value:W,onChange:e=>B(e.target.value),children:[(0,a.jsx)("option",{children:"Insider"}),(0,a.jsx)("option",{children:"RD"}),(0,a.jsx)("option",{children:"MoEngage"}),(0,a.jsx)("option",{children:"Salesforce"})]})]})]}),"tech"===s&&"app"===n&&(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Tecnologia"}),(0,a.jsxs)("select",{className:"w-full border rounded-xl p-2",value:S,onChange:e=>E(e.target.value),children:[(0,a.jsx)("option",{children:"React Native"}),(0,a.jsx)("option",{children:"Flutter"}),(0,a.jsx)("option",{children:"Kotlin"}),(0,a.jsx)("option",{children:"Swift"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Plataforma"}),(0,a.jsxs)("div",{className:"flex gap-3 items-center p-2 border rounded-xl",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:P.includes("iOS"),onChange:()=>X("iOS")})," iOS"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:P.includes("Android"),onChange:()=>X("Android")})," Android"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Prazo estimado"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:R,onChange:e=>D(e.target.value),placeholder:"Ex: 12 semanas"})]})]}),"tech"===s&&"web"===n&&(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Stack"}),(0,a.jsxs)("select",{className:"w-full border rounded-xl p-2",value:O,onChange:e=>A(e.target.value),children:[(0,a.jsx)("option",{children:"Next.js"}),(0,a.jsx)("option",{children:"Shopify"}),(0,a.jsx)("option",{children:"VTEX"}),(0,a.jsx)("option",{children:"WordPress"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Integra\xe7\xf5es previstas"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:_,onChange:e=>M(e.target.value),placeholder:"Ex: ERP, Gateway, CDP"})]}),(0,a.jsxs)("div",{className:"md:col-span-3",children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Escopo principal"}),(0,a.jsx)("textarea",{className:"w-full border rounded-xl p-2",rows:2,value:I,onChange:e=>T(e.target.value),placeholder:"Escopo macro do projeto WEB"})]})]}),"growth"===s&&(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Meta principal"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:F,onChange:e=>V(e.target.value),placeholder:"Ex: +20% leads qualificados"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Canais"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:z,onChange:e=>G(e.target.value),placeholder:"Ex: Email, Push, WhatsApp"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,a.jsx)("button",{className:"px-3 py-2 rounded-xl border",onClick:()=>e.back(),children:"Cancelar"}),(0,a.jsx)("button",{className:"px-3 py-2 rounded-xl bg-black text-white disabled:opacity-50",disabled:!q,onClick:K,children:"Salvar e enviar ao PO"})]})]})}}},e=>{e.O(0,[254,204,441,964,358],()=>e(e.s=4082)),_N_E=e.O()}]);