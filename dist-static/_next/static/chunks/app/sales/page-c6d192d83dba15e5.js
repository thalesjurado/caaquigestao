(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{4082:(e,s,l)=>{Promise.resolve().then(l.bind(l,5722))},5722:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>c});var a=l(5155),t=l(2115),r=l(8999),o=l(2204),n=l(5749);function c(){let e=(0,r.useRouter)(),s=(0,o.C)(e=>e.addProject),[l,c]=(0,t.useState)("tech"),[d,i]=(0,t.useState)("app"),[x,u]=(0,t.useState)(""),[m,h]=(0,t.useState)(""),[p,j]=(0,t.useState)(""),[b,v]=(0,t.useState)(""),[g,N]=(0,t.useState)(""),[f,w]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[C,E]=(0,t.useState)("React Native"),[y,P]=(0,t.useState)([]),[R,D]=(0,t.useState)(""),[O,A]=(0,t.useState)("Next.js"),[I,T]=(0,t.useState)(""),[M,_]=(0,t.useState)(""),[W,B]=(0,t.useState)("RD"),[F,V]=(0,t.useState)(""),[z,G]=(0,t.useState)(""),q=(0,t.useMemo)(()=>!!x.trim()&&!!m.trim()&&!!b&&!!g,[x,m,b,g]),K=async()=>{if(!q)return;let a=[];f&&a.push("Escopo: ".concat(f)),S&&a.push("Respons\xe1vel de vendas: ".concat(S));let t=p?Number(p.replace(/[^0-9.,]/g,"").replace(",",".")):void 0,r={name:m.trim(),client:x.trim(),type:l,status:"planning",startDate:new Date(b),endDate:new Date(g),description:a.join(" \n"),budget:t},o={...r};if("tech"===l){let e={};"app"===d?(e.platform=y.join(", "),e.integrations=[],e.cdpIntegration=void 0,e.martechTools=[C],R&&a.push("Prazo estimado (APP): ".concat(R))):(e.platform=O,e.integrations=M?M.split(",").map(e=>e.trim()).filter(Boolean):[],I&&a.push("Escopo WEB: ".concat(I))),o={...r,description:a.join(" \n"),techDetails:e}}else o={...r,growthDetails:{crmPlatform:W,campaignType:z,expectedResults:F}};try{await s(o),n.oR.success("Projeto criado e marcado como Em Planejamento (PO)."),e.push("/projects")}catch(e){console.error(e),n.oR.error("Falha ao criar o projeto.")}},U=e=>{P(s=>{let l=new Set(s);return l.has(e)?l.delete(e):l.add(e),Array.from(l)})};return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[(0,a.jsxs)("header",{className:"space-y-1",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Ficha de Projeto (Vendas)"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Registre os detalhes do deal antes de passar para o PO."})]}),(0,a.jsx)("section",{className:"rounded-2xl border bg-white p-4 space-y-4",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Cliente"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:x,onChange:e=>u(e.target.value),placeholder:"Cliente"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Nome do Projeto"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:m,onChange:e=>h(e.target.value),placeholder:"Nome interno"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Valor do contrato"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:p,onChange:e=>j(e.target.value),placeholder:"Ex: 120000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Respons\xe1vel de vendas"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:S,onChange:e=>k(e.target.value),placeholder:"Nome"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"In\xedcio"}),(0,a.jsx)("input",{type:"date",className:"w-full border rounded-xl p-2",value:b,onChange:e=>v(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Fim"}),(0,a.jsx)("input",{type:"date",className:"w-full border rounded-xl p-2",value:g,onChange:e=>N(e.target.value)})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Escopo resumido"}),(0,a.jsx)("textarea",{className:"w-full border rounded-xl p-2",rows:3,value:f,onChange:e=>w(e.target.value),placeholder:"Descri\xe7\xe3o breve do escopo"})]})]})}),(0,a.jsxs)("section",{className:"rounded-2xl border bg-white p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"\xc1rea"}),(0,a.jsxs)("select",{className:"w-full border rounded-xl p-2",value:l,onChange:e=>c(e.target.value),children:[(0,a.jsx)("option",{value:"tech",children:"Implementa\xe7\xe3o Tech"}),(0,a.jsx)("option",{value:"growth",children:"CRM/Growth"})]})]}),"tech"===l&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Tipo"}),(0,a.jsxs)("select",{className:"w-full border rounded-xl p-2",value:d,onChange:e=>i(e.target.value),children:[(0,a.jsx)("option",{value:"app",children:"Implementa\xe7\xe3o APP"}),(0,a.jsx)("option",{value:"web",children:"Implementa\xe7\xe3o WEB"})]})]}),"growth"===l&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Stack de CRM"}),(0,a.jsxs)("select",{className:"w-full border rounded-xl p-2",value:W,onChange:e=>B(e.target.value),children:[(0,a.jsx)("option",{children:"Insider"}),(0,a.jsx)("option",{children:"RD"}),(0,a.jsx)("option",{children:"MoEngage"}),(0,a.jsx)("option",{children:"Salesforce"})]})]})]}),"tech"===l&&"app"===d&&(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Tecnologia"}),(0,a.jsxs)("select",{className:"w-full border rounded-xl p-2",value:C,onChange:e=>E(e.target.value),children:[(0,a.jsx)("option",{children:"React Native"}),(0,a.jsx)("option",{children:"Flutter"}),(0,a.jsx)("option",{children:"Kotlin"}),(0,a.jsx)("option",{children:"Swift"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Plataforma"}),(0,a.jsxs)("div",{className:"flex gap-3 items-center p-2 border rounded-xl",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:y.includes("iOS"),onChange:()=>U("iOS")})," iOS"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:y.includes("Android"),onChange:()=>U("Android")})," Android"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Prazo estimado"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:R,onChange:e=>D(e.target.value),placeholder:"Ex: 12 semanas"})]})]}),"tech"===l&&"web"===d&&(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Stack"}),(0,a.jsxs)("select",{className:"w-full border rounded-xl p-2",value:O,onChange:e=>A(e.target.value),children:[(0,a.jsx)("option",{children:"Next.js"}),(0,a.jsx)("option",{children:"Shopify"}),(0,a.jsx)("option",{children:"VTEX"}),(0,a.jsx)("option",{children:"WordPress"})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Integra\xe7\xf5es previstas"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:M,onChange:e=>_(e.target.value),placeholder:"Ex: ERP, Gateway, CDP"})]}),(0,a.jsxs)("div",{className:"md:col-span-3",children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Escopo principal"}),(0,a.jsx)("textarea",{className:"w-full border rounded-xl p-2",rows:2,value:I,onChange:e=>T(e.target.value),placeholder:"Escopo macro do projeto WEB"})]})]}),"growth"===l&&(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Meta principal"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:F,onChange:e=>V(e.target.value),placeholder:"Ex: +20% leads qualificados"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Canais"}),(0,a.jsx)("input",{className:"w-full border rounded-xl p-2",value:z,onChange:e=>G(e.target.value),placeholder:"Ex: Email, Push, WhatsApp"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,a.jsx)("button",{className:"px-3 py-2 rounded-xl border",onClick:()=>e.back(),children:"Cancelar"}),(0,a.jsx)("button",{className:"px-3 py-2 rounded-xl bg-black text-white disabled:opacity-50",disabled:!q,onClick:K,children:"Salvar e enviar ao PO"})]})]})}},5749:(e,s,l)=>{"use strict";l.d(s,{Yf:()=>i,oR:()=>x,uU:()=>d});var a=l(2115);let t=new Set,r=[];function o(){t.forEach(e=>e())}function n(e){return t.add(e),()=>t.delete(e)}function c(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,a={id:Math.random().toString(36).slice(2)+Date.now().toString(36),message:e,type:s,duration:l};r=[...r,a],o(),l>0&&setTimeout(()=>{d(a.id)},l)}function d(e){r=r.filter(s=>s.id!==e),o()}function i(){return(0,a.useSyncExternalStore)(n,()=>r,()=>r)}let x={success:e=>c(e,"success"),error:e=>c(e,"error"),info:e=>c(e,"info")}}},e=>{e.O(0,[254,204,441,964,358],()=>e(e.s=4082)),_N_E=e.O()}]);