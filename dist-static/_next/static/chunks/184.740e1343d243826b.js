"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{1184:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var i=t(5155),a=t(2115),l=t(2204),d=t(5749);function n(e){let{value:s,onChange:t}=e,a=(0,l.C)(e=>e.collaborators);return(0,i.jsxs)("select",{className:"border rounded px-2 py-1 text-sm",value:null!=s?s:"",onChange:e=>t(e.target.value||void 0),children:[(0,i.jsx)("option",{value:"",children:"— sem respons\xe1vel —"}),a.map(e=>(0,i.jsx)("option",{value:e.id,children:e.name},e.id))]})}function c(e){let{okr:s}=e,[t,c]=(0,a.useState)(""),r=(0,l.C)(e=>e.addOKRActivity),o=(0,l.C)(e=>e.deleteOKRActivity),x=(0,l.C)(e=>e.updateOKRActivity),m=(0,l.C)(e=>e.deleteOKR),u=s.activities.length<5&&t.trim().length>0;return(0,i.jsxs)("div",{className:"rounded-2xl border p-4 shadow-sm bg-white",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsx)("h3",{className:"font-semibold",children:s.title}),(0,i.jsx)("button",{className:"text-red-600 text-sm hover:underline",onClick:()=>{m(s.id),d.oR.success("OKR exclu\xeddo")},title:"Excluir OKR",children:"Excluir"})]}),(0,i.jsxs)("ul",{className:"space-y-2 mb-3",children:[s.activities.map(e=>(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"flex-1",children:e.title}),(0,i.jsx)(n,{value:e.assigneeId,onChange:t=>x(s.id,e.id,{assigneeId:t})}),(0,i.jsx)("button",{className:"text-red-500 text-sm hover:underline",onClick:()=>{o(s.id,e.id),d.oR.success("Atividade removida")},title:"Excluir atividade",children:"Remover"})]},e.id)),0===s.activities.length&&(0,i.jsx)("li",{className:"text-sm text-gray-500",children:"Sem atividades ainda."})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{value:t,onChange:e=>c(e.target.value),className:"border rounded px-2 py-1 flex-1",placeholder:"Nova atividade (m\xe1x. 5 por OKR)"}),(0,i.jsx)("button",{className:"bg-black text-white rounded px-3 py-1 text-sm disabled:opacity-50",disabled:!u,onClick:()=>{r(s.id,t),d.oR.success("Atividade adicionada ao OKR"),c("")},children:"Adicionar"})]}),s.activities.length>=5&&(0,i.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"Limite de 5 atividades atingido."})]})}function r(){let e=(0,l.C)(e=>e.okrs),s=(0,l.C)(e=>e.addOKR),[t,n]=(0,a.useState)(""),r=e.length<5&&t.trim().length>0,o=(0,a.useMemo)(()=>({count:e.length,remaining:Math.max(0,5-e.length)}),[e.length]);return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{value:t,onChange:e=>n(e.target.value),className:"border rounded px-2 py-1 flex-1",placeholder:"Novo OKR (m\xe1x. 5)"}),(0,i.jsx)("button",{className:"bg-black text-white rounded px-3 py-1 text-sm disabled:opacity-50",disabled:!r,onClick:()=>{s({title:t.trim(),description:"",progress:0,quarter:"Q1 2025",activities:[]}),d.oR.success("OKR criado com sucesso"),n("")},children:"Criar OKR"})]}),(0,i.jsxs)("p",{className:"text-xs text-gray-500",children:["OKRs: ",o.count," • Restantes: ",o.remaining]}),(0,i.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:e.map(e=>(0,i.jsx)(c,{okr:e},e.id))}),e.length>=5&&(0,i.jsx)("p",{className:"text-xs text-amber-600",children:"Limite de 5 OKRs atingido."})]})}}}]);