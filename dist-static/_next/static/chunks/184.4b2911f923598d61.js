"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{1184:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var s=i(5155),a=i(2115),l=i(2204),n=i(5749);function d(e){let{value:t,onChange:i}=e,a=(0,l.C)(e=>e.collaborators);return(0,s.jsxs)("select",{className:"border rounded px-2 py-1 text-sm",value:null!=t?t:"",onChange:e=>i(e.target.value||void 0),children:[(0,s.jsx)("option",{value:"",children:"— sem respons\xe1vel —"}),a.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})}function r(e){let{okr:t}=e,[i,r]=(0,a.useState)(""),c=(0,l.C)(e=>e.addOKRActivity),o=(0,l.C)(e=>e.deleteOKRActivity),x=(0,l.C)(e=>e.updateOKRActivity),u=(0,l.C)(e=>e.deleteOKR),m=t.activities.length<5&&i.trim().length>0;return(0,s.jsxs)("div",{className:"rounded-2xl border p-4 shadow-sm bg-white",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"font-semibold",children:t.title}),(0,s.jsx)("button",{className:"text-red-600 text-sm hover:underline",onClick:()=>{u(t.id),n.oR.success("OKR exclu\xeddo")},title:"Excluir OKR",children:"Excluir"})]}),(0,s.jsxs)("ul",{className:"space-y-2 mb-3",children:[t.activities.map(e=>(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"flex-1",children:e.title}),(0,s.jsx)(d,{value:e.assigneeId,onChange:i=>x(t.id,e.id,{assigneeId:i})}),(0,s.jsx)("button",{className:"text-red-500 text-sm hover:underline",onClick:()=>{o(t.id,e.id),n.oR.success("Atividade removida")},title:"Excluir atividade",children:"Remover"})]},e.id)),0===t.activities.length&&(0,s.jsx)("li",{className:"text-sm text-gray-500",children:"Sem atividades ainda."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{value:i,onChange:e=>r(e.target.value),className:"border rounded px-2 py-1 flex-1",placeholder:"Nova atividade (m\xe1x. 5 por OKR)"}),(0,s.jsx)("button",{className:"bg-black text-white rounded px-3 py-1 text-sm disabled:opacity-50",disabled:!m,onClick:()=>{c(t.id,i),n.oR.success("Atividade adicionada ao OKR"),r("")},children:"Adicionar"})]}),t.activities.length>=5&&(0,s.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"Limite de 5 atividades atingido."})]})}function c(){let e=(0,l.C)(e=>e.okrs),t=(0,l.C)(e=>e.addOKR),[i,d]=(0,a.useState)(""),c=e.length<5&&i.trim().length>0,o=(0,a.useMemo)(()=>({count:e.length,remaining:Math.max(0,5-e.length)}),[e.length]);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{value:i,onChange:e=>d(e.target.value),className:"border rounded px-2 py-1 flex-1",placeholder:"Novo OKR (m\xe1x. 5)"}),(0,s.jsx)("button",{className:"bg-black text-white rounded px-3 py-1 text-sm disabled:opacity-50",disabled:!c,onClick:()=>{t({title:i.trim(),description:"",progress:0,quarter:"Q1 2025",activities:[]}),n.oR.success("OKR criado com sucesso"),d("")},children:"Criar OKR"})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["OKRs: ",o.count," • Restantes: ",o.remaining]}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:e.map(e=>(0,s.jsx)(r,{okr:e},e.id))}),e.length>=5&&(0,s.jsx)("p",{className:"text-xs text-amber-600",children:"Limite de 5 OKRs atingido."})]})}},5749:(e,t,i)=>{i.d(t,{Yf:()=>o,oR:()=>x,uU:()=>c});var s=i(2115);let a=new Set,l=[];function n(){a.forEach(e=>e())}function d(e){return a.add(e),()=>a.delete(e)}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,s={id:Math.random().toString(36).slice(2)+Date.now().toString(36),message:e,type:t,duration:i};l=[...l,s],n(),i>0&&setTimeout(()=>{c(s.id)},i)}function c(e){l=l.filter(t=>t.id!==e),n()}function o(){return(0,s.useSyncExternalStore)(d,()=>l,()=>l)}let x={success:e=>r(e,"success"),error:e=>r(e,"error"),info:e=>r(e,"info")}}}]);