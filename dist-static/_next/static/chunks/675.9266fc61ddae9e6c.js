"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[675],{9675:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(5155),r=a(2115),n=a(2204);class i{getDefaultTemplates(){return[{id:"weekly-status",name:"Status Semanal",description:"Relat\xf3rio semanal com status dos projetos ativos",type:"weekly",frequency:"weekly",enabled:!0,clients:[],format:"html",autoSend:!0,recipients:[],sections:[{id:"summary",title:"Resumo Executivo",type:"project_status",enabled:!0,config:{includeCharts:!0,showDetails:!1}},{id:"projects",title:"Status dos Projetos",type:"project_status",enabled:!0,config:{includeCharts:!1,showDetails:!0}},{id:"timeline",title:"Cronograma",type:"timeline",enabled:!0,config:{includeCharts:!0}},{id:"risks",title:"Riscos e Alertas",type:"risks",enabled:!0,config:{showDetails:!0}}]},{id:"monthly-executive",name:"Relat\xf3rio Executivo Mensal",description:"Relat\xf3rio mensal completo para executivos",type:"monthly",frequency:"monthly",enabled:!0,clients:[],format:"pdf",autoSend:!0,recipients:[],sections:[{id:"executive-summary",title:"Resumo Executivo",type:"project_status",enabled:!0,config:{includeCharts:!0,showDetails:!1}},{id:"budget-analysis",title:"An\xe1lise Or\xe7ament\xe1ria",type:"budget",enabled:!0,config:{includeCharts:!0,showDetails:!0}},{id:"team-performance",title:"Performance da Equipe",type:"team",enabled:!0,config:{includeCharts:!0}},{id:"milestones",title:"Marcos e Entregas",type:"milestones",enabled:!0,config:{showDetails:!0}}]},{id:"project-milestone",name:"Relat\xf3rio de Marco",description:"Relat\xf3rio gerado automaticamente quando um marco \xe9 atingido",type:"milestone",frequency:"on_demand",enabled:!0,clients:[],format:"html",autoSend:!0,recipients:[],sections:[{id:"milestone-summary",title:"Marco Atingido",type:"milestones",enabled:!0,config:{showDetails:!0}},{id:"next-steps",title:"Pr\xf3ximos Passos",type:"timeline",enabled:!0,config:{showDetails:!0}}]}]}async generateReport(e,t,a,s,r,n,i){let l=this.templates.find(t=>t.id===e);if(!l)throw Error("Template n\xe3o encontrado");let o=s.filter(e=>e.client===t&&new Date(e.startDate)<=a.end&&new Date(e.endDate)>=a.start),d=i.filter(e=>e.client===t),c=await this.generateReportContent(l,o,r,n,d,a),m={id:this.generateId(),templateId:l.id,templateName:l.name,client:t,title:"".concat(l.name," - ").concat(t," (").concat(a.start.toLocaleDateString("pt-BR")," a ").concat(a.end.toLocaleDateString("pt-BR"),")"),period:a,generatedAt:new Date,generatedBy:"Sistema",format:l.format,content:c,status:"draft",recipients:l.recipients};return this.reports.unshift(m),this.saveReports(),m}async generateReportContent(e,t,a,s,r,n){let i=new Date,l=t.filter(e=>"active"===e.status),o=t.filter(e=>"completed"===e.status),d=t.filter(e=>"completed"===e.status&&new Date(e.endDate)>=i),c=t.filter(e=>"active"===e.status&&new Date(e.endDate)<i),m=t.reduce((e,t)=>e+(t.budget||0),0),p=t.map(e=>{let t=r.filter(t=>t.projectId===e.id),a=t.filter(e=>"done"===e.status),i=t.length>0?a.length/t.length*100:0,l=s.filter(t=>t.projectId===e.id),o=l.length,d=o>0?l.reduce((e,t)=>e+t.percentage,0)/o:0;return{id:e.id,name:e.name,client:e.client,status:e.status,progress:Math.round(i),startDate:new Date(e.startDate),endDate:new Date(e.endDate),budget:e.budget||0,spent:(e.budget||0)*(i/100),team:{members:o,utilization:Math.round(d)},milestones:{completed:a.length,total:t.length,upcoming:t.filter(e=>"done"!==e.status&&e.dueDate).sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime()).slice(0,3)},risks:this.identifyProjectRisks(e,t),highlights:this.generateProjectHighlights(e,t,n)}}),u={high:t.filter(e=>"active"===e.status&&new Date(e.endDate)<i).map(e=>"Projeto ".concat(e.name," em atraso")),medium:t.filter(e=>{let t=Math.ceil((new Date(e.endDate).getTime()-i.getTime())/864e5);return"active"===e.status&&t<=7&&t>0}).map(e=>"Projeto ".concat(e.name," com prazo pr\xf3ximo")),low:[]};return{summary:{totalProjects:t.length,activeProjects:l.length,completedProjects:o.length,onTimeProjects:d.length,delayedProjects:c.length,totalBudget:m,spentBudget:.7*m},projects:p,team:{totalMembers:a.length,utilization:Math.round(s.reduce((e,t)=>e+t.percentage,0)/Math.max(a.length,1)),topPerformers:a.slice(0,3).map(e=>e.name)},timeline:{upcomingMilestones:r.filter(e=>e.dueDate&&new Date(e.dueDate)>i).sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime()).slice(0,5),recentCompletions:r.filter(e=>"done"===e.status&&e.createdAt&&new Date(e.createdAt)>=n.start).slice(0,5)},risks:u}}identifyProjectRisks(e,t){let a=[],s=new Date;"active"===e.status&&new Date(e.endDate)<s&&a.push("Projeto em atraso");let r=t.filter(e=>"done"!==e.status&&e.dueDate&&new Date(e.dueDate)<s);return r.length>0&&a.push("".concat(r.length," tarefa(s) em atraso")),(t.length>0?t.filter(e=>"done"===e.status).length/t.length*100:0)<50&&"active"===e.status&&30>Math.ceil((new Date(e.endDate).getTime()-s.getTime())/864e5)&&a.push("Baixo progresso pr\xf3ximo ao prazo"),a}generateProjectHighlights(e,t,a){let s=[],r=t.filter(e=>"done"===e.status&&e.createdAt&&new Date(e.createdAt)>=a.start&&new Date(e.createdAt)<=a.end);return r.length>0&&s.push("".concat(r.length," tarefa(s) conclu\xedda(s) no per\xedodo")),"completed"===e.status&&s.push("Projeto conclu\xeddo com sucesso"),s}exportToHTML(e){let{content:t}=e;return'\n<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>'.concat(e.title,'</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }\n        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }\n        .header { border-bottom: 2px solid #3b82f6; padding-bottom: 20px; margin-bottom: 30px; }\n        .title { color: #1f2937; font-size: 28px; font-weight: bold; margin: 0; }\n        .subtitle { color: #6b7280; font-size: 16px; margin: 5px 0 0 0; }\n        .section { margin-bottom: 30px; }\n        .section-title { color: #1f2937; font-size: 20px; font-weight: bold; margin-bottom: 15px; border-left: 4px solid #3b82f6; padding-left: 15px; }\n        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }\n        .summary-card { background: #f8fafc; padding: 15px; border-radius: 6px; border-left: 4px solid #3b82f6; }\n        .summary-number { font-size: 24px; font-weight: bold; color: #1f2937; }\n        .summary-label { color: #6b7280; font-size: 14px; }\n        .project-card { background: #f8fafc; padding: 20px; border-radius: 6px; margin-bottom: 15px; }\n        .project-header { display: flex; justify-content: between; align-items: center; margin-bottom: 10px; }\n        .project-name { font-weight: bold; font-size: 18px; color: #1f2937; }\n        .project-status { padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; text-transform: uppercase; }\n        .status-active { background: #dbeafe; color: #1e40af; }\n        .status-completed { background: #dcfce7; color: #166534; }\n        .progress-bar { background: #e5e7eb; height: 8px; border-radius: 4px; overflow: hidden; margin: 10px 0; }\n        .progress-fill { background: #3b82f6; height: 100%; transition: width 0.3s ease; }\n        .risk-high { color: #dc2626; font-weight: bold; }\n        .risk-medium { color: #d97706; font-weight: bold; }\n        .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; text-align: center; color: #6b7280; font-size: 14px; }\n    </style>\n</head>\n<body>\n    <div class="container">\n        <div class="header">\n            <h1 class="title">').concat(e.title,'</h1>\n            <p class="subtitle">Gerado em ').concat(e.generatedAt.toLocaleDateString("pt-BR")," \xe0s ").concat(e.generatedAt.toLocaleTimeString("pt-BR"),'</p>\n        </div>\n\n        <div class="section">\n            <h2 class="section-title">Resumo Executivo</h2>\n            <div class="summary-grid">\n                <div class="summary-card">\n                    <div class="summary-number">').concat(t.summary.totalProjects,'</div>\n                    <div class="summary-label">Total de Projetos</div>\n                </div>\n                <div class="summary-card">\n                    <div class="summary-number">').concat(t.summary.activeProjects,'</div>\n                    <div class="summary-label">Projetos Ativos</div>\n                </div>\n                <div class="summary-card">\n                    <div class="summary-number">').concat(t.summary.completedProjects,'</div>\n                    <div class="summary-label">Projetos Conclu\xeddos</div>\n                </div>\n                <div class="summary-card">\n                    <div class="summary-number">').concat(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.summary.totalBudget),'</div>\n                    <div class="summary-label">Or\xe7amento Total</div>\n                </div>\n            </div>\n        </div>\n\n        <div class="section">\n            <h2 class="section-title">Status dos Projetos</h2>\n            ').concat(t.projects.map(e=>'\n                <div class="project-card">\n                    <div class="project-header">\n                        <span class="project-name">'.concat(e.name,'</span>\n                        <span class="project-status status-').concat(e.status,'">').concat(e.status,'</span>\n                    </div>\n                    <div class="progress-bar">\n                        <div class="progress-fill" style="width: ').concat(e.progress,'%"></div>\n                    </div>\n                    <p><strong>Progresso:</strong> ').concat(e.progress,"%</p>\n                    <p><strong>Equipe:</strong> ").concat(e.team.members," membro(s)</p>\n                    <p><strong>Or\xe7amento:</strong> ").concat(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.budget),"</p>\n                    ").concat(e.risks.length>0?'<p><strong>Riscos:</strong> <span class="risk-high">'.concat(e.risks.join(", "),"</span></p>"):"","\n                    ").concat(e.highlights.length>0?"<p><strong>Destaques:</strong> ".concat(e.highlights.join(", "),"</p>"):"","\n                </div>\n            ")).join(""),"\n        </div>\n\n        ").concat(t.risks.high.length>0||t.risks.medium.length>0?'\n        <div class="section">\n            <h2 class="section-title">Riscos e Alertas</h2>\n            '.concat(t.risks.high.length>0?'\n                <h3 class="risk-high">Riscos Altos</h3>\n                <ul>'.concat(t.risks.high.map(e=>'<li class="risk-high">'.concat(e,"</li>")).join(""),"</ul>\n            "):"","\n            ").concat(t.risks.medium.length>0?'\n                <h3 class="risk-medium">Riscos M\xe9dios</h3>\n                <ul>'.concat(t.risks.medium.map(e=>'<li class="risk-medium">'.concat(e,"</li>")).join(""),"</ul>\n            "):"","\n        </div>\n        "):"",'\n\n        <div class="footer">\n            <p>Relat\xf3rio gerado automaticamente pelo Sistema Caaqui ProjectOps</p>\n        </div>\n    </div>\n</body>\n</html>')}scheduleAutomaticReports(){let e=new Date;this.templates.filter(e=>e.enabled&&e.autoSend).forEach(t=>{this.shouldGenerateReport(t,e)&&t.clients.forEach(a=>{this.calculateReportPeriod(t.frequency,e),console.log("Agendando relat\xf3rio ".concat(t.name," para cliente ").concat(a))})})}shouldGenerateReport(e,t){return!e.nextScheduled||t>=e.nextScheduled}calculateReportPeriod(e,t){let a=new Date(t),s=new Date(t);switch(e){case"weekly":default:s.setDate(s.getDate()-7);break;case"monthly":s.setMonth(s.getMonth()-1);break;case"quarterly":s.setMonth(s.getMonth()-3)}return{start:s,end:a}}getTemplates(){return this.templates}getReports(){return this.reports}getReportsByClient(e){return this.reports.filter(t=>t.client===e)}getReport(e){return this.reports.find(t=>t.id===e)}updateTemplate(e,t){let a=this.templates.findIndex(t=>t.id===e);a>=0&&(this.templates[a]={...this.templates[a],...t},this.saveTemplates())}addTemplate(e){this.templates.push(e),this.saveTemplates()}deleteTemplate(e){this.templates=this.templates.filter(t=>t.id!==e),this.saveTemplates()}markReportAsSent(e){let t=this.reports.find(t=>t.id===e);t&&(t.status="sent",this.saveReports())}generateId(){return Math.random().toString(36).slice(2)+Date.now().toString(36)}loadTemplates(){try{let e=localStorage.getItem("caaqui_report_templates");e?this.templates=JSON.parse(e):(this.templates=this.getDefaultTemplates(),this.saveTemplates())}catch(e){this.templates=this.getDefaultTemplates()}}saveTemplates(){try{localStorage.setItem("caaqui_report_templates",JSON.stringify(this.templates))}catch(e){console.warn("Erro ao salvar templates de relat\xf3rio:",e)}}loadReports(){try{let e=localStorage.getItem("caaqui_generated_reports");e&&(this.reports=JSON.parse(e).map(e=>({...e,period:{start:new Date(e.period.start),end:new Date(e.period.end)},generatedAt:new Date(e.generatedAt)})))}catch(e){this.reports=[]}}saveReports(){try{localStorage.setItem("caaqui_generated_reports",JSON.stringify(this.reports))}catch(e){console.warn("Erro ao salvar relat\xf3rios gerados:",e)}}constructor(){this.templates=[],this.reports=[],this.loadTemplates(),this.loadReports()}}let l=new i;var o=a(5749);function d(){let[e,t]=(0,r.useState)("reports"),[a,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[m,p]=(0,r.useState)({start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[u,g]=(0,r.useState)(!1),{projects:h,collaborators:x,projectAllocations:b,boardActivities:f}=(0,n.C)(),{templates:y,reports:v,generateReport:j,exportToHTML:w,updateTemplate:D,markReportAsSent:N}={templates:l.getTemplates(),reports:l.getReports(),generateReport:(e,t,a,s,r,n,i)=>l.generateReport(e,t,a,s,r,n,i),exportToHTML:e=>l.exportToHTML(e),getReportsByClient:e=>l.getReportsByClient(e),getReport:e=>l.getReport(e),updateTemplate:(e,t)=>l.updateTemplate(e,t),addTemplate:e=>l.addTemplate(e),deleteTemplate:e=>l.deleteTemplate(e),markReportAsSent:e=>l.markReportAsSent(e)},R=Array.from(new Set(h.map(e=>e.client).filter(Boolean))),k=async()=>{if(!a||!d)return void(0,o.P0)("Selecione um template e cliente","error");g(!0);try{let e={start:new Date(m.start),end:new Date(m.end)};await j(a,d,e,h,x,b,f),(0,o.P0)("Relat\xf3rio gerado com sucesso!","success"),t("reports")}catch(e){console.error("Erro ao gerar relat\xf3rio:",e),(0,o.P0)("Erro ao gerar relat\xf3rio","error")}finally{g(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Centro de Relat\xf3rios"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[v.length," relat\xf3rio(s) gerado(s)"]})]}),(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,s.jsx)("button",{onClick:()=>t("reports"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("reports"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCCA Relat\xf3rios Gerados"}),(0,s.jsx)("button",{onClick:()=>t("generate"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("generate"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"➕ Gerar Relat\xf3rio"}),(0,s.jsx)("button",{onClick:()=>t("templates"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("templates"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCCB Templates"})]})}),"reports"===e&&(0,s.jsx)("div",{className:"space-y-4",children:0===v.length?(0,s.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCA"}),(0,s.jsx)("p",{children:"Nenhum relat\xf3rio gerado ainda"}),(0,s.jsx)("p",{className:"text-sm",children:'Clique em "Gerar Relat\xf3rio" para come\xe7ar'})]}):(0,s.jsx)("div",{className:"grid gap-4",children:v.map(e=>(0,s.jsxs)("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,s.jsxs)("p",{className:"text-gray-600 text-sm",children:["Cliente: ",e.client," • Template: ",e.templateName]}),(0,s.jsxs)("p",{className:"text-gray-500 text-sm",children:["Per\xedodo: ",e.period.start.toLocaleDateString("pt-BR")," a ",e.period.end.toLocaleDateString("pt-BR")]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("sent"===e.status?"bg-green-100 text-green-800":"viewed"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"sent"===e.status?"Enviado":"viewed"===e.status?"Visualizado":"Rascunho"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.content.summary.totalProjects}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Projetos"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.content.summary.completedProjects}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Conclu\xeddos"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:e.content.summary.activeProjects}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Ativos"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(e.content.summary.totalBudget)}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Or\xe7amento"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Gerado em ",e.generatedAt.toLocaleDateString("pt-BR")," \xe0s ",e.generatedAt.toLocaleTimeString("pt-BR")]}),(0,s.jsx)("div",{className:"flex space-x-2",children:(0,s.jsx)("button",{onClick:()=>(e=>{try{let t=w(e),a=new Blob([t],{type:"text/html"}),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="".concat(e.title.replace(/[^a-zA-Z0-9]/g,"_"),".html"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s),N(e.id),(0,o.P0)("Relat\xf3rio exportado com sucesso!","success")}catch(e){console.error("Erro ao exportar relat\xf3rio:",e),(0,o.P0)("Erro ao exportar relat\xf3rio","error")}})(e),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"\uD83D\uDCE5 Exportar HTML"})})]})]},e.id))})}),"generate"===e&&(0,s.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Gerar Novo Relat\xf3rio"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template"}),(0,s.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Selecione um template"}),y.filter(e=>e.enabled).map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),(0,s.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Selecione um cliente"}),R.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Inicial"}),(0,s.jsx)("input",{type:"date",value:m.start,onChange:e=>p(t=>({...t,start:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Final"}),(0,s.jsx)("input",{type:"date",value:m.end,onChange:e=>p(t=>({...t,end:e.target.value})),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)("button",{onClick:k,disabled:u||!a||!d,className:"w-full md:w-auto px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:u?"⏳ Gerando...":"\uD83D\uDCCA Gerar Relat\xf3rio"})})]}),"templates"===e&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Templates de Relat\xf3rio"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[y.filter(e=>e.enabled).length," de ",y.length," habilitado(s)"]})]}),(0,s.jsx)("div",{className:"grid gap-4",children:y.map(e=>(0,s.jsx)("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,s.jsx)("h4",{className:"font-semibold",children:e.name}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("weekly"===e.type?"bg-blue-100 text-blue-800":"monthly"===e.type?"bg-green-100 text-green-800":"milestone"===e.type?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:"weekly"===e.type?"Semanal":"monthly"===e.type?"Mensal":"milestone"===e.type?"Marco":"Personalizado"}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.enabled?"Ativo":"Inativo"})]}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Frequ\xeancia:"}),(0,s.jsx)("div",{className:"text-gray-600",children:"weekly"===e.frequency?"Semanal":"monthly"===e.frequency?"Mensal":"quarterly"===e.frequency?"Trimestral":"Sob demanda"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Formato:"}),(0,s.jsx)("div",{className:"text-gray-600",children:e.format.toUpperCase()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Auto-envio:"}),(0,s.jsx)("div",{className:"text-gray-600",children:e.autoSend?"Sim":"N\xe3o"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Se\xe7\xf5es:"}),(0,s.jsxs)("div",{className:"text-gray-600",children:[e.sections.length," se\xe7\xe3o(\xf5es)"]})]})]})]}),(0,s.jsx)("div",{className:"flex space-x-2 ml-4",children:(0,s.jsx)("button",{onClick:()=>(e=>{let t=y.find(t=>t.id===e);t&&(D(e,{enabled:!t.enabled}),(0,o.P0)("Template ".concat(t.enabled?"desabilitado":"habilitado"),"success"))})(e.id),className:"px-3 py-1 rounded text-sm font-medium ".concat(e.enabled?"bg-red-100 text-red-800 hover:bg-red-200":"bg-green-100 text-green-800 hover:bg-green-200"),children:e.enabled?"Desabilitar":"Habilitar"})})]})},e.id))})]})]})}}}]);